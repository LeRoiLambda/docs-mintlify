components:
  schemas:
    customer:
      description: >-
        This object represents a customer of your business. Use it to [create
        recurring charges](https://stripe.com/docs/invoicing/customer), [save
        payment](https://stripe.com/docs/payments/save-during-payment) and
        contact information,

        and track payments that belong to the same customer.
      properties:
        address:
          anyOf:
            - $ref: '#/components/schemas/address'
          description: The customer's address.
          nullable: true
        balance:
          description: >-
            The current balance, if any, that's stored on the customer. If
            negative, the customer has credit to apply to their next invoice. If
            positive, the customer has an amount owed that's added to their next
            invoice. The balance only considers amounts that Stripe hasn't
            successfully applied to any invoice. It doesn't reflect unpaid
            invoices. This balance is only taken into account after invoices
            finalize.
          type: integer
        cash_balance:
          anyOf:
            - $ref: '#/components/schemas/cash_balance'
          description: >-
            The current funds being held by Stripe on behalf of the customer.
            You can apply these funds towards payment intents when the source is
            "cash_balance". The `settings[reconciliation_mode]` field describes
            if these funds apply to these payment intents manually or
            automatically.
          nullable: true
        created:
          description: >-
            Time at which the object was created. Measured in seconds since the
            Unix epoch.
          format: unix-time
          type: integer
        currency:
          description: >-
            Three-letter [ISO code for the
            currency](https://stripe.com/docs/currencies) the customer can be
            charged in for recurring billing purposes.
          maxLength: 5000
          nullable: true
          type: string
        default_source:
          anyOf:
            - maxLength: 5000
              type: string
            - $ref: '#/components/schemas/payment_source'
          description: >-
            ID of the default payment source for the customer.


            If you use payment methods created through the PaymentMethods API,
            see the
            [invoice_settings.default_payment_method](https://stripe.com/docs/api/customers/object#customer_object-invoice_settings-default_payment_method)
            field instead.
          nullable: true
          x-expansionResources:
            oneOf:
              - $ref: '#/components/schemas/payment_source'
        delinquent:
          description: >-
            Tracks the most recent state change on any invoice belonging to the
            customer. Paying an invoice or marking it uncollectible via the API
            will set this field to false. An automatic payment failure or
            passing the `invoice.due_date` will set this field to `true`.


            If an invoice becomes uncollectible by
            [dunning](https://stripe.com/docs/billing/automatic-collection),
            `delinquent` doesn't reset to `false`.


            If you care whether the customer has paid their most recent
            subscription invoice, use `subscription.status` instead. Paying or
            marking uncollectible any customer invoice regardless of whether it
            is the latest invoice for a subscription will always set this field
            to `false`.
          nullable: true
          type: boolean
        description:
          description: >-
            An arbitrary string attached to the object. Often useful for
            displaying to users.
          maxLength: 5000
          nullable: true
          type: string
        discount:
          anyOf:
            - $ref: '#/components/schemas/discount'
          description: >-
            Describes the current discount active on the customer, if there is
            one.
          nullable: true
        email:
          description: The customer's email address.
          maxLength: 5000
          nullable: true
          type: string
        id:
          description: Unique identifier for the object.
          maxLength: 5000
          type: string
        invoice_credit_balance:
          additionalProperties:
            type: integer
          description: >-
            The current multi-currency balances, if any, that's stored on the
            customer. If positive in a currency, the customer has a credit to
            apply to their next invoice denominated in that currency. If
            negative, the customer has an amount owed that's added to their next
            invoice denominated in that currency. These balances don't apply to
            unpaid invoices. They solely track amounts that Stripe hasn't
            successfully applied to any invoice. Stripe only applies a balance
            in a specific currency to an invoice after that invoice (which is in
            the same currency) finalizes.
          type: object
        invoice_prefix:
          description: The prefix for the customer used to generate unique invoice numbers.
          maxLength: 5000
          nullable: true
          type: string
        invoice_settings:
          $ref: '#/components/schemas/invoice_setting_customer_setting'
        livemode:
          description: >-
            Has the value `true` if the object exists in live mode or the value
            `false` if the object exists in test mode.
          type: boolean
        metadata:
          additionalProperties:
            maxLength: 500
            type: string
          description: >-
            Set of [key-value pairs](https://stripe.com/docs/api/metadata) that
            you can attach to an object. This can be useful for storing
            additional information about the object in a structured format.
          type: object
        name:
          description: The customer's full name or business name.
          maxLength: 5000
          nullable: true
          type: string
        next_invoice_sequence:
          description: >-
            The suffix of the customer's next invoice number (for example,
            0001). When the account uses account level sequencing, this
            parameter is ignored in API requests and the field omitted in API
            responses.
          type: integer
        object:
          description: >-
            String representing the object's type. Objects of the same type
            share the same value.
          enum:
            - customer
          type: string
        phone:
          description: The customer's phone number.
          maxLength: 5000
          nullable: true
          type: string
        preferred_locales:
          description: 'The customer''s preferred locales (languages), ordered by preference.'
          items:
            maxLength: 5000
            type: string
          nullable: true
          type: array
        shipping:
          anyOf:
            - $ref: '#/components/schemas/shipping'
          description: >-
            Mailing and shipping address for the customer. Appears on invoices
            emailed to this customer.
          nullable: true
        sources:
          description: 'The customer''s payment sources, if any.'
          properties:
            data:
              description: Details about each object.
              items:
                $ref: '#/components/schemas/payment_source'
              type: array
            has_more:
              description: >-
                True if this list has another page of items after this one that
                can be fetched.
              type: boolean
            object:
              description: >-
                String representing the object's type. Objects of the same type
                share the same value. Always has the value `list`.
              enum:
                - list
              type: string
            url:
              description: The URL where this list can be accessed.
              maxLength: 5000
              type: string
          required:
            - data
            - has_more
            - object
            - url
          title: ApmsSourcesSourceList
          type: object
          x-expandableFields:
            - data
          x-stripeMostCommon:
            - data
            - has_more
            - object
            - url
        subscriptions:
          description: 'The customer''s current subscriptions, if any.'
          properties:
            data:
              description: Details about each object.
              items:
                $ref: '#/components/schemas/subscription'
              type: array
            has_more:
              description: >-
                True if this list has another page of items after this one that
                can be fetched.
              type: boolean
            object:
              description: >-
                String representing the object's type. Objects of the same type
                share the same value. Always has the value `list`.
              enum:
                - list
              type: string
            url:
              description: The URL where this list can be accessed.
              maxLength: 5000
              type: string
          required:
            - data
            - has_more
            - object
            - url
          title: SubscriptionList
          type: object
          x-expandableFields:
            - data
          x-stripeMostCommon:
            - data
            - has_more
            - object
            - url
        tax:
          $ref: '#/components/schemas/customer_tax'
        tax_exempt:
          description: >-
            Describes the customer's tax exemption status, which is `none`,
            `exempt`, or `reverse`. When set to `reverse`, invoice and receipt
            PDFs include the following text: **"Reverse charge"**.
          enum:
            - exempt
            - none
            - reverse
          nullable: true
          type: string
        tax_ids:
          description: The customer's tax IDs.
          properties:
            data:
              description: Details about each object.
              items:
                $ref: '#/components/schemas/tax_id'
              type: array
            has_more:
              description: >-
                True if this list has another page of items after this one that
                can be fetched.
              type: boolean
            object:
              description: >-
                String representing the object's type. Objects of the same type
                share the same value. Always has the value `list`.
              enum:
                - list
              type: string
            url:
              description: The URL where this list can be accessed.
              maxLength: 5000
              type: string
          required:
            - data
            - has_more
            - object
            - url
          title: TaxIDsList
          type: object
          x-expandableFields:
            - data
          x-stripeMostCommon:
            - data
            - has_more
            - object
            - url
        test_clock:
          anyOf:
            - maxLength: 5000
              type: string
            - $ref: '#/components/schemas/test_helpers.test_clock'
          description: ID of the test clock that this customer belongs to.
          nullable: true
          x-expansionResources:
            oneOf:
              - $ref: '#/components/schemas/test_helpers.test_clock'
      required:
        - created
        - default_source
        - description
        - email
        - id
        - livemode
        - object
        - shipping
      title: Customer
      type: object
      x-expandableFields:
        - address
        - cash_balance
        - default_source
        - discount
        - invoice_settings
        - shipping
        - sources
        - subscriptions
        - tax
        - tax_ids
        - test_clock
      x-resourceId: customer
      x-stripeMostCommon:
        - address
        - description
        - email
        - id
        - metadata
        - name
        - phone
        - shipping
        - tax
      x-stripeOperations:
        - method_name: delete
          method_on: service
          method_type: delete
          operation: delete
          path: '/v1/customers/{customer}'
        - method_name: delete_discount
          method_on: service
          method_type: custom
          operation: delete
          path: '/v1/customers/{customer}/discount'
        - method_name: list
          method_on: service
          method_type: list
          operation: get
          path: /v1/customers
        - method_name: retrieve
          method_on: service
          method_type: retrieve
          operation: get
          path: '/v1/customers/{customer}'
        - method_name: balance_transactions
          method_on: service
          method_type: custom
          operation: get
          path: '/v1/customers/{customer}/balance_transactions'
        - method_name: list_payment_methods
          method_on: service
          method_type: custom
          operation: get
          path: '/v1/customers/{customer}/payment_methods'
        - method_name: retrieve_payment_method
          method_on: service
          method_type: custom
          operation: get
          path: '/v1/customers/{customer}/payment_methods/{payment_method}'
        - method_name: search
          method_on: service
          method_type: custom
          operation: get
          path: /v1/customers/search
        - method_name: create
          method_on: service
          method_type: create
          operation: post
          path: /v1/customers
        - method_name: update
          method_on: service
          method_type: update
          operation: post
          path: '/v1/customers/{customer}'
        - method_name: create_funding_instructions
          method_on: service
          method_type: custom
          operation: post
          path: '/v1/customers/{customer}/funding_instructions'
        - method_name: fund_cash_balance
          method_on: service
          method_type: custom
          operation: post
          path: '/v1/test_helpers/customers/{customer}/fund_cash_balance'
      x-stripeResource:
        class_name: Customer
        has_collection_class: true
        has_search_result_class: true
        in_package: ''
    customer.created:
      description: Occurs whenever a new customer is created.
      properties:
        object:
          $ref: '#/components/schemas/customer'
      required:
        - object
      type: object
      x-expandableFields: []
      x-stripeEvent:
        type: customer.created
    customer.deleted:
      description: Occurs whenever a customer is deleted.
      properties:
        object:
          $ref: '#/components/schemas/customer'
      required:
        - object
      type: object
      x-expandableFields: []
      x-stripeEvent:
        type: customer.deleted
paths:
  /v1/customers:
    get:
      description: >-
        <p>Returns a list of your customers. The customers are returned sorted
        by creation date, with the most recent customers appearing first.</p>
      operationId: GetCustomers
      parameters:
        - description: >-
            Only return customers that were created during the given date
            interval.
          explode: true
          in: query
          name: created
          required: false
          schema:
            anyOf:
              - properties:
                  gt:
                    description: Minimum value to filter by (exclusive)
                    type: integer
                  gte:
                    description: Minimum value to filter by (inclusive)
                    type: integer
                  lt:
                    description: Maximum value to filter by (exclusive)
                    type: integer
                  lte:
                    description: Maximum value to filter by (inclusive)
                    type: integer
                title: range_query_specs
                type: object
                x-stripeMostCommon:
                  - gt
                  - gte
                  - lt
                  - lte
              - type: integer
          style: deepObject
        - description: >-
            A case-sensitive filter on the list based on the customer's `email`
            field. The value must be a string.
          in: query
          name: email
          required: false
          schema:
            maxLength: 512
            type: string
          style: form
        - description: >-
            A cursor for use in pagination. `ending_before` is an object ID that
            defines your place in the list. For instance, if you make a list
            request and receive 100 objects, starting with `obj_bar`, your
            subsequent call can include `ending_before=obj_bar` in order to
            fetch the previous page of the list.
          in: query
          name: ending_before
          required: false
          schema:
            maxLength: 5000
            type: string
          style: form
        - description: Specifies which fields in the response should be expanded.
          explode: true
          in: query
          name: expand
          required: false
          schema:
            items:
              maxLength: 5000
              type: string
            type: array
          style: deepObject
        - description: >-
            A limit on the number of objects to be returned. Limit can range
            between 1 and 100, and the default is 10.
          in: query
          name: limit
          required: false
          schema:
            type: integer
          style: form
        - description: >-
            A cursor for use in pagination. `starting_after` is an object ID
            that defines your place in the list. For instance, if you make a
            list request and receive 100 objects, ending with `obj_foo`, your
            subsequent call can include `starting_after=obj_foo` in order to
            fetch the next page of the list.
          in: query
          name: starting_after
          required: false
          schema:
            maxLength: 5000
            type: string
          style: form
        - description: >-
            Provides a list of customers that are associated with the specified
            test clock. The response will not include customers with test clocks
            if this parameter is not set.
          in: query
          name: test_clock
          required: false
          schema:
            maxLength: 5000
            type: string
          style: form
      requestBody:
        content:
          application/x-www-form-urlencoded:
            encoding: {}
            schema:
              additionalProperties: false
              properties: {}
              type: object
        required: false
      responses:
        '200':
          content:
            application/json:
              schema:
                description: ''
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/customer'
                    type: array
                  has_more:
                    description: >-
                      True if this list has another page of items after this one
                      that can be fetched.
                    type: boolean
                  object:
                    description: >-
                      String representing the object's type. Objects of the same
                      type share the same value. Always has the value `list`.
                    enum:
                      - list
                    type: string
                  url:
                    description: The URL where this list can be accessed.
                    maxLength: 5000
                    pattern: ^/v1/customers
                    type: string
                required:
                  - data
                  - has_more
                  - object
                  - url
                title: CustomerResourceCustomerList
                type: object
                x-expandableFields:
                  - data
                x-stripeMostCommon:
                  - data
                  - has_more
                  - object
                  - url
          description: Successful response.
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
          description: Error response.
      summary: List all customers
    post:
      description: <p>Creates a new customer object.</p>
      operationId: PostCustomers
      requestBody:
        content:
          application/x-www-form-urlencoded:
            encoding:
              address:
                explode: true
                style: deepObject
              cash_balance:
                explode: true
                style: deepObject
              expand:
                explode: true
                style: deepObject
              invoice_settings:
                explode: true
                style: deepObject
              metadata:
                explode: true
                style: deepObject
              preferred_locales:
                explode: true
                style: deepObject
              shipping:
                explode: true
                style: deepObject
              tax:
                explode: true
                style: deepObject
              tax_id_data:
                explode: true
                style: deepObject
            schema:
              additionalProperties: false
              properties:
                address:
                  anyOf:
                    - properties:
                        city:
                          description: 'City, district, suburb, town, or village.'
                          maxLength: 5000
                          type: string
                        country:
                          description: >-
                            A freeform text field for the country. However, in
                            order to activate some tax features, the format
                            should be a two-letter country code ([ISO 3166-1
                            alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).
                          maxLength: 5000
                          type: string
                        line1:
                          description: >-
                            Address line 1 (e.g., street, PO Box, or company
                            name).
                          maxLength: 5000
                          type: string
                        line2:
                          description: >-
                            Address line 2 (e.g., apartment, suite, unit, or
                            building).
                          maxLength: 5000
                          type: string
                        postal_code:
                          description: ZIP or postal code.
                          maxLength: 5000
                          type: string
                        state:
                          description: 'State, county, province, or region.'
                          maxLength: 5000
                          type: string
                      title: optional_fields_customer_address
                      type: object
                      x-stripeMostCommon:
                        - city
                        - country
                        - line1
                        - line2
                        - postal_code
                        - state
                    - enum:
                        - ''
                      type: string
                  description: The customer's address.
                balance:
                  description: >-
                    An integer amount in cents (or local equivalent) that
                    represents the customer's current balance, which affect the
                    customer's future invoices. A negative amount represents a
                    credit that decreases the amount due on an invoice; a
                    positive amount increases the amount due on an invoice.
                  type: integer
                cash_balance:
                  description: >-
                    Balance information and default balance settings for this
                    customer.
                  properties:
                    settings:
                      description: >-
                        Settings controlling the behavior of the customer's cash
                        balance,

                        such as reconciliation of funds received.
                      properties:
                        reconciliation_mode:
                          description: >-
                            Controls how funds transferred by the customer are
                            applied to payment intents and invoices. Valid
                            options are `automatic`, `manual`, or
                            `merchant_default`. For more information about these
                            reconciliation modes, see
                            [Reconciliation](https://stripe.com/docs/payments/customer-balance/reconciliation).
                          enum:
                            - automatic
                            - manual
                            - merchant_default
                          type: string
                      title: balance_settings_param
                      type: object
                      x-stripeMostCommon:
                        - reconciliation_mode
                  title: cash_balance_param
                  type: object
                  x-stripeMostCommon:
                    - settings
                description:
                  description: >-
                    An arbitrary string that you can attach to a customer
                    object. It is displayed alongside the customer in the
                    dashboard.
                  maxLength: 5000
                  type: string
                email:
                  description: >-
                    Customer's email address. It's displayed alongside the
                    customer in your dashboard and can be useful for searching
                    and tracking. This may be up to *512 characters*.
                  maxLength: 512
                  type: string
                expand:
                  description: Specifies which fields in the response should be expanded.
                  items:
                    maxLength: 5000
                    type: string
                  type: array
                invoice_prefix:
                  description: >-
                    The prefix for the customer used to generate unique invoice
                    numbers. Must be 3–12 uppercase letters or numbers.
                  maxLength: 5000
                  type: string
                invoice_settings:
                  description: Default invoice settings for this customer.
                  properties:
                    custom_fields:
                      anyOf:
                        - items:
                            properties:
                              name:
                                description: >-
                                  The name of the custom field. This may be up
                                  to 40 characters.
                                maxLength: 40
                                type: string
                              value:
                                description: >-
                                  The value of the custom field. This may be up
                                  to 140 characters.
                                maxLength: 140
                                type: string
                            required:
                              - name
                              - value
                            title: custom_field_params
                            type: object
                            x-stripeMostCommon:
                              - name
                              - value
                          type: array
                        - enum:
                            - ''
                          type: string
                      description: >-
                        The list of up to 4 default custom fields to be
                        displayed on invoices for this customer. When updating,
                        pass an empty string to remove previously-defined
                        fields.
                    default_payment_method:
                      description: >-
                        ID of a payment method that's attached to the customer,
                        to be used as the customer's default payment method for
                        subscriptions and invoices.
                      maxLength: 5000
                      type: string
                    footer:
                      description: >-
                        Default footer to be displayed on invoices for this
                        customer.
                      maxLength: 5000
                      type: string
                    rendering_options:
                      anyOf:
                        - properties:
                            amount_tax_display:
                              description: >-
                                How line-item prices and amounts will be
                                displayed with respect to tax on invoice PDFs.
                                One of `exclude_tax` or `include_inclusive_tax`.
                                `include_inclusive_tax` will include inclusive
                                tax (and exclude exclusive tax) in invoice PDF
                                amounts. `exclude_tax` will exclude all tax
                                (inclusive and exclusive alike) from invoice PDF
                                amounts.
                              enum:
                                - ''
                                - exclude_tax
                                - include_inclusive_tax
                              type: string
                            template:
                              description: >-
                                ID of the invoice rendering template to use for
                                future invoices.
                              maxLength: 5000
                              type: string
                          title: customer_rendering_options_param
                          type: object
                          x-stripeMostCommon:
                            - amount_tax_display
                            - invoice_title
                            - template
                        - enum:
                            - ''
                          type: string
                      description: >-
                        Default options for invoice PDF rendering for this
                        customer.
                  title: customer_param
                  type: object
                  x-stripeMostCommon:
                    - amount_to_forgive
                    - amount_to_forgive_currency
                    - custom_fields
                    - days_until_due
                    - default_payment_method
                    - footer
                    - rendering_options
                    - send_hosted_payment_email
                    - supported_payment_methods
                metadata:
                  anyOf:
                    - additionalProperties:
                        type: string
                      type: object
                    - enum:
                        - ''
                      type: string
                  description: >-
                    Set of [key-value
                    pairs](https://stripe.com/docs/api/metadata) that you can
                    attach to an object. This can be useful for storing
                    additional information about the object in a structured
                    format. Individual keys can be unset by posting an empty
                    value to them. All keys can be unset by posting an empty
                    value to `metadata`.
                name:
                  description: The customer's full name or business name.
                  maxLength: 256
                  type: string
                next_invoice_sequence:
                  description: >-
                    The sequence to be used on the customer's next invoice.
                    Defaults to 1.
                  type: integer
                payment_method:
                  maxLength: 5000
                  type: string
                phone:
                  description: The customer's phone number.
                  maxLength: 20
                  type: string
                preferred_locales:
                  description: 'Customer''s preferred languages, ordered by preference.'
                  items:
                    maxLength: 5000
                    type: string
                  type: array
                shipping:
                  anyOf:
                    - properties:
                        address:
                          description: Customer shipping address.
                          properties:
                            city:
                              description: 'City, district, suburb, town, or village.'
                              maxLength: 5000
                              type: string
                            country:
                              description: >-
                                A freeform text field for the country. However,
                                in order to activate some tax features, the
                                format should be a two-letter country code ([ISO
                                3166-1
                                alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).
                              maxLength: 5000
                              type: string
                            line1:
                              description: >-
                                Address line 1 (e.g., street, PO Box, or company
                                name).
                              maxLength: 5000
                              type: string
                            line2:
                              description: >-
                                Address line 2 (e.g., apartment, suite, unit, or
                                building).
                              maxLength: 5000
                              type: string
                            postal_code:
                              description: ZIP or postal code.
                              maxLength: 5000
                              type: string
                            state:
                              description: 'State, county, province, or region.'
                              maxLength: 5000
                              type: string
                          title: optional_fields_customer_address
                          type: object
                          x-stripeMostCommon:
                            - city
                            - country
                            - line1
                            - line2
                            - postal_code
                            - state
                        name:
                          description: Customer name.
                          maxLength: 5000
                          type: string
                        phone:
                          description: Customer phone (including extension).
                          maxLength: 5000
                          type: string
                      required:
                        - address
                        - name
                      title: customer_shipping
                      type: object
                      x-stripeMostCommon:
                        - address
                        - name
                        - phone
                    - enum:
                        - ''
                      type: string
                  description: >-
                    The customer's shipping information. Appears on invoices
                    emailed to this customer.
                source:
                  maxLength: 5000
                  type: string
                  x-stripeBypassValidation: true
                tax:
                  description: Tax details about the customer.
                  properties:
                    ip_address:
                      anyOf:
                        - type: string
                        - enum:
                            - ''
                          type: string
                      description: >-
                        A recent IP address of the customer used for tax
                        reporting and tax location inference. Stripe recommends
                        updating the IP address when a new PaymentMethod is
                        attached or the address field on the customer is
                        updated. We recommend against updating this field more
                        frequently since it could result in unexpected tax
                        location/reporting outcomes.
                    validate_location:
                      description: >-
                        A flag that indicates when Stripe should validate the
                        customer tax location. Defaults to `deferred`.
                      enum:
                        - deferred
                        - immediately
                      type: string
                  title: shared_tax_create_param
                  type: object
                  x-stripeMostCommon:
                    - ip_address
                    - validate_location
                tax_exempt:
                  description: >-
                    The customer's tax exemption. One of `none`, `exempt`, or
                    `reverse`.
                  enum:
                    - ''
                    - exempt
                    - none
                    - reverse
                  type: string
                tax_id_data:
                  description: The customer's tax IDs.
                  items:
                    properties:
                      type:
                        description: >-
                          Type of the tax ID, one of `ad_nrt`, `ae_trn`
                        enum:
                          - ad_nrt
                          - ae_trn
                          - al_tin
                          - am_tin
                          - ao_tin
                          - ar_cuit
                          - au_abn
                          - au_arn
                          - aw_tin
                        maxLength: 5000
                        type: string
                        x-stripeBypassValidation: true
                      value:
                        description: Value of the tax ID.
                        type: string
                    required:
                      - type
                      - value
                    title: data_params
                    type: object
                    x-stripeMostCommon:
                      - type
                      - value
                  type: array
                test_clock:
                  description: ID of the test clock to attach to the customer.
                  maxLength: 5000
                  type: string
                validate:
                  type: boolean
              type: object
              x-stripeMostCommon:
                - address
                - description
                - email
                - metadata
                - name
                - payment_method
                - phone
                - shipping
                - tax
        required: false
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/customer'
          description: Successful response.
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
          description: Error response.
      summary: Create a customer
  '/v1/customers/{customer}':
    delete:
      description: >-
        <p>Permanently deletes a customer. It cannot be undone. Also immediately
        cancels any active subscriptions on the customer.</p>
      operationId: DeleteCustomersCustomer
      parameters:
        - in: path
          name: customer
          required: true
          schema:
            maxLength: 5000
            type: string
          style: simple
      requestBody:
        content:
          application/x-www-form-urlencoded:
            encoding: {}
            schema:
              additionalProperties: false
              properties: {}
              type: object
        required: false
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/deleted_customer'
          description: Successful response.
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
          description: Error response.
      summary: Delete a customer
    get:
      description: <p>Retrieves a Customer object.</p>
      operationId: GetCustomersCustomer
      parameters:
        - in: path
          name: customer
          required: true
          schema:
            maxLength: 5000
            type: string
          style: simple
        - description: Specifies which fields in the response should be expanded.
          explode: true
          in: query
          name: expand
          required: false
          schema:
            items:
              maxLength: 5000
              type: string
            type: array
          style: deepObject
      requestBody:
        content:
          application/x-www-form-urlencoded:
            encoding: {}
            schema:
              additionalProperties: false
              properties: {}
              type: object
        required: false
      responses:
        '200':
          content:
            application/json:
              schema:
                anyOf:
                  - $ref: '#/components/schemas/customer'
                  - $ref: '#/components/schemas/deleted_customer'
          description: Successful response.
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
          description: Error response.
      summary: Retrieve a customer
    post:
      description: >-
        <p>Updates the specified customer by setting the values of the
        parameters passed. Any parameters not provided will be left unchanged.
        For example, if you pass the <strong>source</strong> parameter, that
        becomes the customer’s active source (e.g., a card) to be used for all
        charges in the future. When you update a customer to a new valid card
        source by passing the <strong>source</strong> parameter: for each of the
        customer’s current subscriptions, if the subscription bills
        automatically and is in the <code>past_due</code> state, then the latest
        open invoice for the subscription with automatic collection enabled will
        be retried. This retry will not count as an automatic retry, and will
        not affect the next regularly scheduled payment for the invoice.
        Changing the <strong>default_source</strong> for a customer will not
        trigger this behavior.</p>


        <p>This request accepts mostly the same arguments as the customer
        creation call.</p>
      operationId: PostCustomersCustomer
      parameters:
        - in: path
          name: customer
          required: true
          schema:
            maxLength: 5000
            type: string
          style: simple
      requestBody:
        content:
          application/x-www-form-urlencoded:
            encoding:
              address:
                explode: true
                style: deepObject
              cash_balance:
                explode: true
                style: deepObject
              expand:
                explode: true
                style: deepObject
              invoice_settings:
                explode: true
                style: deepObject
              metadata:
                explode: true
                style: deepObject
              preferred_locales:
                explode: true
                style: deepObject
              shipping:
                explode: true
                style: deepObject
              tax:
                explode: true
                style: deepObject
            schema:
              additionalProperties: false
              properties:
                address:
                  anyOf:
                    - properties:
                        city:
                          description: 'City, district, suburb, town, or village.'
                          maxLength: 5000
                          type: string
                        country:
                          description: >-
                            A freeform text field for the country. However, in
                            order to activate some tax features, the format
                            should be a two-letter country code ([ISO 3166-1
                            alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).
                          maxLength: 5000
                          type: string
                        line1:
                          description: >-
                            Address line 1 (e.g., street, PO Box, or company
                            name).
                          maxLength: 5000
                          type: string
                        line2:
                          description: >-
                            Address line 2 (e.g., apartment, suite, unit, or
                            building).
                          maxLength: 5000
                          type: string
                        postal_code:
                          description: ZIP or postal code.
                          maxLength: 5000
                          type: string
                        state:
                          description: 'State, county, province, or region.'
                          maxLength: 5000
                          type: string
                      title: optional_fields_customer_address
                      type: object
                      x-stripeMostCommon:
                        - city
                        - country
                        - line1
                        - line2
                        - postal_code
                        - state
                    - enum:
                        - ''
                      type: string
                  description: The customer's address.
                balance:
                  description: >-
                    An integer amount in cents (or local equivalent) that
                    represents the customer's current balance, which affect the
                    customer's future invoices. A negative amount represents a
                    credit that decreases the amount due on an invoice; a
                    positive amount increases the amount due on an invoice.
                  type: integer
                cash_balance:
                  description: >-
                    Balance information and default balance settings for this
                    customer.
                  properties:
                    settings:
                      description: >-
                        Settings controlling the behavior of the customer's cash
                        balance,

                        such as reconciliation of funds received.
                      properties:
                        reconciliation_mode:
                          description: >-
                            Controls how funds transferred by the customer are
                            applied to payment intents and invoices. Valid
                            options are `automatic`, `manual`, or
                            `merchant_default`. For more information about these
                            reconciliation modes, see
                            [Reconciliation](https://stripe.com/docs/payments/customer-balance/reconciliation).
                          enum:
                            - automatic
                            - manual
                            - merchant_default
                          type: string
                      title: balance_settings_param
                      type: object
                      x-stripeMostCommon:
                        - reconciliation_mode
                  title: cash_balance_param
                  type: object
                  x-stripeMostCommon:
                    - settings
                default_source:
                  description: >-
                    If you are using payment methods created via the
                    PaymentMethods API, see the
                    [invoice_settings.default_payment_method](https://stripe.com/docs/api/customers/update#update_customer-invoice_settings-default_payment_method)
                    parameter.


                    Provide the ID of a payment source already attached to this
                    customer to make it this customer's default payment source.


                    If you want to add a new payment source and make it the
                    default, see the
                    [source](https://stripe.com/docs/api/customers/update#update_customer-source)
                    property.
                  maxLength: 500
                  type: string
                description:
                  description: >-
                    An arbitrary string that you can attach to a customer
                    object. It is displayed alongside the customer in the
                    dashboard.
                  maxLength: 5000
                  type: string
                email:
                  description: >-
                    Customer's email address. It's displayed alongside the
                    customer in your dashboard and can be useful for searching
                    and tracking. This may be up to *512 characters*.
                  maxLength: 512
                  type: string
                expand:
                  description: Specifies which fields in the response should be expanded.
                  items:
                    maxLength: 5000
                    type: string
                  type: array
                invoice_prefix:
                  description: >-
                    The prefix for the customer used to generate unique invoice
                    numbers. Must be 3–12 uppercase letters or numbers.
                  maxLength: 5000
                  type: string
                invoice_settings:
                  description: Default invoice settings for this customer.
                  properties:
                    custom_fields:
                      anyOf:
                        - items:
                            properties:
                              name:
                                description: >-
                                  The name of the custom field. This may be up
                                  to 40 characters.
                                maxLength: 40
                                type: string
                              value:
                                description: >-
                                  The value of the custom field. This may be up
                                  to 140 characters.
                                maxLength: 140
                                type: string
                            required:
                              - name
                              - value
                            title: custom_field_params
                            type: object
                            x-stripeMostCommon:
                              - name
                              - value
                          type: array
                        - enum:
                            - ''
                          type: string
                      description: >-
                        The list of up to 4 default custom fields to be
                        displayed on invoices for this customer. When updating,
                        pass an empty string to remove previously-defined
                        fields.
                    default_payment_method:
                      description: >-
                        ID of a payment method that's attached to the customer,
                        to be used as the customer's default payment method for
                        subscriptions and invoices.
                      maxLength: 5000
                      type: string
                    footer:
                      description: >-
                        Default footer to be displayed on invoices for this
                        customer.
                      maxLength: 5000
                      type: string
                    rendering_options:
                      anyOf:
                        - properties:
                            amount_tax_display:
                              description: >-
                                How line-item prices and amounts will be
                                displayed with respect to tax on invoice PDFs.
                                One of `exclude_tax` or `include_inclusive_tax`.
                                `include_inclusive_tax` will include inclusive
                                tax (and exclude exclusive tax) in invoice PDF
                                amounts. `exclude_tax` will exclude all tax
                                (inclusive and exclusive alike) from invoice PDF
                                amounts.
                              enum:
                                - ''
                                - exclude_tax
                                - include_inclusive_tax
                              type: string
                            template:
                              description: >-
                                ID of the invoice rendering template to use for
                                future invoices.
                              maxLength: 5000
                              type: string
                          title: customer_rendering_options_param
                          type: object
                          x-stripeMostCommon:
                            - amount_tax_display
                            - invoice_title
                            - template
                        - enum:
                            - ''
                          type: string
                      description: >-
                        Default options for invoice PDF rendering for this
                        customer.
                  title: customer_param
                  type: object
                  x-stripeMostCommon:
                    - amount_to_forgive
                    - amount_to_forgive_currency
                    - custom_fields
                    - days_until_due
                    - default_payment_method
                    - footer
                    - rendering_options
                    - send_hosted_payment_email
                    - supported_payment_methods
                metadata:
                  anyOf:
                    - additionalProperties:
                        type: string
                      type: object
                    - enum:
                        - ''
                      type: string
                  description: >-
                    Set of [key-value
                    pairs](https://stripe.com/docs/api/metadata) that you can
                    attach to an object. This can be useful for storing
                    additional information about the object in a structured
                    format. Individual keys can be unset by posting an empty
                    value to them. All keys can be unset by posting an empty
                    value to `metadata`.
                name:
                  description: The customer's full name or business name.
                  maxLength: 256
                  type: string
                next_invoice_sequence:
                  description: >-
                    The sequence to be used on the customer's next invoice.
                    Defaults to 1.
                  type: integer
                phone:
                  description: The customer's phone number.
                  maxLength: 20
                  type: string
                preferred_locales:
                  description: 'Customer''s preferred languages, ordered by preference.'
                  items:
                    maxLength: 5000
                    type: string
                  type: array
                shipping:
                  anyOf:
                    - properties:
                        address:
                          description: Customer shipping address.
                          properties:
                            city:
                              description: 'City, district, suburb, town, or village.'
                              maxLength: 5000
                              type: string
                            country:
                              description: >-
                                A freeform text field for the country. However,
                                in order to activate some tax features, the
                                format should be a two-letter country code ([ISO
                                3166-1
                                alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).
                              maxLength: 5000
                              type: string
                            line1:
                              description: >-
                                Address line 1 (e.g., street, PO Box, or company
                                name).
                              maxLength: 5000
                              type: string
                            line2:
                              description: >-
                                Address line 2 (e.g., apartment, suite, unit, or
                                building).
                              maxLength: 5000
                              type: string
                            postal_code:
                              description: ZIP or postal code.
                              maxLength: 5000
                              type: string
                            state:
                              description: 'State, county, province, or region.'
                              maxLength: 5000
                              type: string
                          title: optional_fields_customer_address
                          type: object
                          x-stripeMostCommon:
                            - city
                            - country
                            - line1
                            - line2
                            - postal_code
                            - state
                        name:
                          description: Customer name.
                          maxLength: 5000
                          type: string
                        phone:
                          description: Customer phone (including extension).
                          maxLength: 5000
                          type: string
                      required:
                        - address
                        - name
                      title: customer_shipping
                      type: object
                      x-stripeMostCommon:
                        - address
                        - name
                        - phone
                    - enum:
                        - ''
                      type: string
                  description: >-
                    The customer's shipping information. Appears on invoices
                    emailed to this customer.
                source:
                  maxLength: 5000
                  type: string
                  x-stripeBypassValidation: true
                tax:
                  description: Tax details about the customer.
                  properties:
                    ip_address:
                      anyOf:
                        - type: string
                        - enum:
                            - ''
                          type: string
                      description: >-
                        A recent IP address of the customer used for tax
                        reporting and tax location inference. Stripe recommends
                        updating the IP address when a new PaymentMethod is
                        attached or the address field on the customer is
                        updated. We recommend against updating this field more
                        frequently since it could result in unexpected tax
                        location/reporting outcomes.
                    validate_location:
                      description: >-
                        A flag that indicates when Stripe should validate the
                        customer tax location. Defaults to `auto`.
                      enum:
                        - auto
                        - deferred
                        - immediately
                      type: string
                  title: shared_tax_update_param
                  type: object
                  x-stripeMostCommon:
                    - ip_address
                    - validate_location
                tax_exempt:
                  description: >-
                    The customer's tax exemption. One of `none`, `exempt`, or
                    `reverse`.
                  enum:
                    - ''
                    - exempt
                    - none
                    - reverse
                  type: string
                validate:
                  type: boolean
              type: object
              x-stripeMostCommon:
                - address
                - description
                - email
                - metadata
                - name
                - phone
                - shipping
                - tax
        required: false
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/customer'
          description: Successful response.
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
          description: Error response.
      summary: Update a customer